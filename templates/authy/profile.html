{% extends 'base.html' %}


{% block content %}

    <div class="container">
        <div class="row">

            {% if user.is_authenticated and user != profile.user %}
                <div>
                    {% if follow_status is True %}
                        <a href="{% url 'follow' profile.user 0 %}">Unfollow</a>
                    {% else %}
                        <a href="{% url 'follow' profile.user 1 %}">Follow</a>
                    {% endif %}
                </div>
            {% endif %}

            <div class="col-3">
                {% if profile.picture %}
                    <img src="{{ profile.picture.url }}" alt="">
                {% else %}
                    <img src="https://via.placeholder.com/150" alt="">
                {% endif %}
            </div>

            <div class="col-9">
                <div>
                    <h1>
                        {% if profile.first_name %}
                            {{ profile.first_name }} {{ profile.last_name }}
                        {% endif %}
                    </h1>
                    <h2>@{{ profile.user }}</h2>
                </div>

                <div class="row">
                    <div class="col-4">
                        <p>{{ post_count }} posts</p>
                    </div>
                    <div class="col-4">
                        <p>{{ following_count }} following</p>
                    </div>
                    <div class="col-4">
                        <p>{{ followers_count }} followers</p>
                    </div>
                </div>

                <div>
                    {% if profile.profile_info %}
                        <p>
                            {{ profile.profile_info }}
                        </p>
                    {% endif %}
                </div>
                {% if user.is_authenticated and user == profile.user %}
                    <a class="btn btn-info" href="{% url 'edit_profile' %}">Edit profile</a>
                {% endif %}
            </div>
        </div>
    <div class="mt-3">
        {% for post in posts %}
            <div>
                <figure>
                    <a href="{{ post.get_absolute_url }}">
                        <img src="{{ post.picture.url }}" alt="">
                    </a>
                </figure>
            </div>
        {% empty %}
            <h3>There is no post</h3>
        {% endfor %}
    </div>
    </div>

{% endblock content %}
